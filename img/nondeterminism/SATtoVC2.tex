%% img/nondeterminism/SATtoVC2.tex
%% Copyright 2019 Andrea Berlingieri
%
% This work may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.3
% of this license or (at your option) any later version.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3 or later is part of all distributions of LaTeX
% version 2005/12/01 or later.
%
% This work has the LPPL maintenance status `maintained'.
%
% The Current Maintainer of this work is Andrea Berlingieri.
%
% This work consists of all files listed in manifest.txt
\documentclass{standalone}

\usepackage{../TikzStyle}
\usepackage{../mystyle}

\newcommand{\Pair}[3]{% x,y,atomic formula
    \node[point] (#3) at ([shift={(#1 cm,#2 cm)}]0,0) {};
    \node () [above=2pt of #3] {$#3$};
    \node[point] (n#3) at ([shift={(#1 cm,#2 cm)}]2,0) {};
    \node () [above=2pt of n#3] {$\lnot #3$};
    \draw (#3) -- (n#3);
}

\newcommand{\Triangle}[6]{% x,y,atomic formulas,name of the triangle
    \node[point] (#6_1) at ([shift={(#1 cm,#2 cm)}]0,0) {};
    \node () [above=2pt of #6_1] {#3};
    \node[point] (#6_2) at ([shift={(#1 cm,#2 cm)}]1.2,-2.1) {};
    \node () [below right=2pt of #6_2] {#4};
    \node[point] (#6_3) at ([shift={(#1 cm,#2 cm)}]-1.2,-2.1) {};
    \node () [below left=2pt of #6_3] {#5};
    \draw (#6_1) -- (#6_2);
    \draw (#6_2) -- (#6_3);
    \draw (#6_3) -- (#6_1);
}

\begin{document}
    \begin{tikzpicture}[point/.style={draw,circle,inner sep=0cm,fill=black,minimum size=2pt}]
        \Pair{0}{0}{A};
        \Pair{3}{0}{B};
        \Pair{6}{0}{C};
        \Triangle{-2}{-1}{$A$}{$\lnot B$}{$C$}{t1};
        \Triangle{2}{-1}{$\lnot A$}{$B$}{$\lnot C$}{t2};
        \Triangle{6}{-1}{$\lnot A$}{$\lnot B$}{$C$}{t3};
        \Triangle{10}{-1}{$A$}{$B$}{$\lnot C$}{t4};
        \draw (t1_1) -- (A);
        \draw (t2_1) -- (nA);
        \draw (t3_1) -- (nA);
        \draw (t2_2) -- (B);
        \draw (t3_3) -- (C);
        \draw (t4_3) -- (nC);

        \draw (t1_3) .. controls (-3.2,1) and (3,2) .. (C);
        \draw (A) .. controls (3,2) and (8,2) .. (t4_1);
        \draw (t1_2) .. controls (-0.5,-5) and (4,-5) .. (nB);
        \draw (t2_3) .. controls (3,-6) and (8,-6) .. (nC);
        \draw (t3_2) .. controls (7.5,-1.5) and (6.5,-0.25) .. (nB);
        \draw (t4_2) .. controls (10.7,1) and (7.2,2) .. (B);
    \end{tikzpicture}
\end{document}
